<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wkclz.demo.dao.DemoTypesMapper">

    <sql id="baseColumn">
        id, type_int, type_bigint, type_bit, type_char, type_date, type_datetime, type_decimal,
        type_double, type_float, type_integer, type_mediumint, type_numeric, type_real, type_time,
        type_timestamp, type_tinyint, type_tinytext, type_varchar, type_year, sort, create_time,
        create_by, update_time, update_by, comments, version, status
    </sql>
    <sql id="blobColumn">
        type_binary, type_blob, type_geometry, type_geometrycollection, type_json, type_linestring,
        type_longblob, type_longtext, type_mediumblob, type_mediumtext, type_multilinestring,
        type_multipoint, type_multipolygon, type_point, type_polygon, type_text, type_tinyblob,
        type_varbinary
    </sql>

    <sql id="allColumnSelective">
        <!-- 加入 if 判断 -->
        id, type_int, type_bigint, type_bit, type_char, type_date, type_datetime, type_decimal,
        type_double, type_float, type_integer, type_mediumint, type_numeric, type_real, type_time,
        type_timestamp, type_tinyint, type_tinytext, type_varchar, type_year, sort, create_time,
        create_by, update_time, update_by, comments, version, status
    </sql>
    <sql id="allValuesSelective">
        <!-- 加入 if 判断 -->
        id, type_int, type_bigint, type_bit, type_char, type_date, type_datetime, type_decimal,
        type_double, type_float, type_integer, type_mediumint, type_numeric, type_real, type_time,
        type_timestamp, type_tinyint, type_tinytext, type_varchar, type_year, sort, create_time,
        create_by, update_time, update_by, comments, version, status
    </sql>

    <sql id="where">

    </sql>


    <!-- 统计 -->
    <select id="count" parameterType="com.wkclz.demo.pojo.entity.DemoTypes" resultType="int">
        SELECT
          count(*) count
        FROM
          demo_types
        WHERE
          <include refid="where"/>
    </select>

    <!-- 用ID查找 -->
    <select id="getById" parameterType="java.lang.Long" resultType="com.wkclz.demo.pojo.entity.DemoTypes">
        SELECT
          *
        FROM
          demo_types
        WHERE
          status = 1
          AND id = #{id}
    </select>

    <!-- 用 Model 查找 -->
    <select id="getByModel" parameterType="com.wkclz.demo.pojo.entity.DemoTypes" resultType="com.wkclz.demo.pojo.entity.DemoTypes">
        SELECT
          *
        FROM
          demo_types
        WHERE
          <include refid="where"/>
        LIMIT 1
    </select>


    <!-- 查询列表，不包含Blobs -->
    <select id="list" parameterType="com.wkclz.demo.pojo.entity.DemoTypes" resultType="com.wkclz.demo.pojo.entity.DemoTypes">
        SELECT
          *
        FROM
          demo_types
        WHERE
          <include refid="where"/>

        <if test="orderBy != null">
            order by ${orderBy}
        </if>
        <if test="pageNo != null">
            LIMIT
            ((pageNo - 1) * pageSize), pageSize
        </if>
    </select>


    <!-- (选择性)插入 -->
    <insert id="insert" parameterType="com.wkclz.demo.pojo.entity.DemoTypes" >
        <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into demo_types

        <trim prefix="(" suffix=")" suffixOverrides=",">
            <include refid="allColumnSelective"/>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <include refid="allValuesSelective"/>
        </trim>
    </insert>

    <!-- (选择性)批量插入 -->
    <insert id="insertBatch">

    </insert>


    <!-- 更新(带乐观锁) -->
    <update id="updateAll">

    </update>


    <!-- 选择性更新(带乐观锁) -->
    <update id="updateSelective">

    </update>

    <!-- 批量更新(不带乐观锁) -->
    <update id="updateBatch">

    </update>

    <!-- 删除 -->
    <update id="delete">

    </update>

    <!-- 批量删除 -->
    <update id="deleteBatch">

    </update>

</mapper>
